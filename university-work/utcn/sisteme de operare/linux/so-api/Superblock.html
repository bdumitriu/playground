<HTML>
<HEAD>
<TITLE>class Superblock</TITLE>

<META NAME="Generator" CONTENT="KDOC ">
</HEAD>
<BODY bgcolor="#ffffff" text="#000000" link="#0000ff" vlink="#000099" alink= "#ffffff">
<TABLE WIDTH="100%" BORDER="0">
<TR>
<TD>
	<TABLE BORDER="0">
		<TR><TD valign="top" align="left" cellspacing="10">
		<h1>class Superblock</h1>
		</TD>
		<TD valign="top" align="right" colspan="1">Represents an interface to the hard disk's superblock.
 <small><A HREF="#longdesc">More...</A></small></TD></TR>
	</TABLE>
	<HR>
	<TABLE BORDER="0">
		<TR><TH>Definition</TH><TD><code>#include &lt;<A HREF="so___include___driver___Superblock_h.html">so/include/driver/Superblock.h</A>&gt;</code></TD></TR>
<TR><TH><A HREF="full-list-Superblock.html">List of all Methods</A></TH></TR>
	</TABLE>
	</TD>
<TD align="right"><TABLE BORDER="0"><TR><TD><small><A HREF="index-long.html">Annotated List</A></small></TD></TR>
<TR><TD><small><A HREF="header-list.html">Files</A></small></TD></TR>
<TR><TD><small><A HREF="all-globals.html">Globals</A></small></TD></TR>
<TR><TD><small><A HREF="hier.html">Hierarchy</A></small></TD></TR>
<TR><TD><small><A HREF="index.html">Index</A></small></TD></TR>
</TABLE></TD></TR></TABLE>
<h4>Public Methods</h4><ul><LI>&nbsp;<b><A HREF="#ref1">Superblock</A></b> () 
</LI>
<LI>&nbsp;<b><A HREF="#ref2">~Superblock</A></b> () 
</LI>
<LI>unsigned char* &nbsp;<b><A HREF="#ref3">getChecksum</A></b> () 
</LI>
<LI>unsigned char* &nbsp;<b><A HREF="#ref4">getSignature</A></b> () 
</LI>
<LI>unsigned long &nbsp;<b><A HREF="#ref5">getNrOfBlocks</A></b> () 
</LI>
<LI>unsigned long &nbsp;<b><A HREF="#ref6">getBlockDimension</A></b> () 
</LI>
<LI>unsigned long &nbsp;<b><A HREF="#ref7">getFirstInodeBlock</A></b> () 
</LI>
<LI>unsigned long &nbsp;<b><A HREF="#ref8">getLastInodeBlock</A></b> () 
</LI>
<LI>unsigned long &nbsp;<b><A HREF="#ref9">getRootDirInode</A></b> () 
</LI>
<LI>unsigned long &nbsp;<b><A HREF="#ref10">getFreeBlocksInode</A></b> () 
</LI>
<LI>void &nbsp;<b><A HREF="#ref11">setChecksum</A></b> (const unsigned char* checksum) 
</LI>
<LI>void &nbsp;<b><A HREF="#ref12">setSignature</A></b> (const unsigned char* signature) 
</LI>
<LI>void &nbsp;<b><A HREF="#ref13">setNrOfBlocks</A></b> (unsigned long nrOfBlocks) 
</LI>
<LI>void &nbsp;<b><A HREF="#ref14">setBlockDimension</A></b> (unsigned long blockDimension) 
</LI>
<LI>void &nbsp;<b><A HREF="#ref15">setFirstInodeBlock</A></b> (unsigned long firstInodeBlock) 
</LI>
<LI>void &nbsp;<b><A HREF="#ref16">setLastInodeBlock</A></b> (unsigned long lastInodeBlock) 
</LI>
<LI>void &nbsp;<b><A HREF="#ref17">setRootDirInode</A></b> (unsigned long rootDirInode) 
</LI>
<LI>void &nbsp;<b><A HREF="#ref18">setFreeBlocksInode</A></b> (unsigned long freeBlocksInode) 
</LI>
<LI>void &nbsp;<b><A HREF="#ref19">readFromHardDisk</A></b> (<A HREF="HDD.html">HDD</A>* hdd) 
</LI>
<LI>void &nbsp;<b><A HREF="#ref20">writeToHardDisk</A></b> (<A HREF="HDD.html">HDD</A>* hdd) 
</LI>
<LI>unsigned char* &nbsp;<b><A HREF="#ref21">getAsBytes</A></b> () 
</LI>
</ul><h4>Private Methods</h4><ul><LI>unsigned char* &nbsp;<b><A HREF="#ref30">serialize</A></b> () 
</LI>
</ul><h4>Private Members</h4><ul><LI>unsigned char* <b><A HREF="#ref22">checksum</A></b></LI>
<LI>unsigned char* <b><A HREF="#ref23">signature</A></b></LI>
<LI>unsigned long <b><A HREF="#ref24">nrBlocks</A></b></LI>
<LI>unsigned long <b><A HREF="#ref25">blockDim</A></b></LI>
<LI>unsigned long <b><A HREF="#ref26">inodeStart</A></b></LI>
<LI>unsigned long <b><A HREF="#ref27">inodeEnd</A></b></LI>
<LI>unsigned long <b><A HREF="#ref28">roodDir</A></b></LI>
<LI>unsigned long <b><A HREF="#ref29">freeBlocks</A></b></LI>
</ul><HR><H2><A NAME="longdesc">Detailed Description</A></H2><p>
 This class represents an interface to the hard disk's superblock.
 Thus it allows read/write access to the various superblock elements.
 Here's the configuration of the superblock which this class assumes:
</p>
<p> <table border="1" align="center">
 <caption>Superblock configuration</caption>
 <tr>
 <td align="center" bgcolor="cyan">16 bytes</td>
 <td align="center" bgcolor="cyan">12 bytes</td>
 <td align="center" bgcolor="cyan">4 bytes</td>
 <td align="center" bgcolor="cyan">4 bytes</td>
 <td align="center" bgcolor="cyan">4 bytes</td>
 <td align="center" bgcolor="cyan">4 bytes</td>
 <td align="center" bgcolor="cyan">4 bytes</td>
 <td align="center" bgcolor="cyan">4 bytes</td>
 <td align="center" bgcolor="cyan">rest up to include/defs.h::BLOCK_DIM</td>
 </tr>
 <tr>
 <td align="center" bgcolor="lightblue">checksum</td>
 <td align="center" bgcolor="lightblue">signature</td>
 <td align="center" bgcolor="lightblue">number of blocks</td>
 <td align="center" bgcolor="lightblue">block dimesion</td>
 <td align="center" bgcolor="lightblue">first inode block</td>
 <td align="center" bgcolor="lightblue">last inode block</td>
 <td align="center" bgcolor="lightblue">root dir inode</td>
 <td align="center" bgcolor="lightblue">free blocks inode</td>
 <td align="center" bgcolor="lightblue">reserved</td>
 </tr>
 </table>
</p>
<p> Currently, the superblock signature is "bdumitriusfs" (without the ").
</p>
<p></p>
<A NAME="Superblock"></A><A NAME="ref1"></A><table width="100%"><tr bgcolor="#eeeeee"><td>&nbsp;<strong>Superblock</strong> ()
<br></td><td align="right"><h3><strong>Superblock</strong></h3></td></tr></table><p></p><p>
 Creates a new Superblock and initializes all its members
 with 0 or arrays of 0.
	 </p>
<A NAME="~Superblock"></A><A NAME="ref2"></A><table width="100%"><tr bgcolor="#eeeeee"><td>&nbsp;<strong>~Superblock</strong> ()
<br></td><td align="right"><h3><strong>~Superblock</strong></h3></td></tr></table><p></p><p>
 The destructor of the class.
	 </p>
<A NAME="getChecksum"></A><A NAME="ref3"></A><table width="100%"><tr bgcolor="#eeeeee"><td>unsigned char* &nbsp;<strong>getChecksum</strong> ()
<br></td><td align="right"><h3><strong>getChecksum</strong></h3></td></tr></table><p></p><p>
 Returns the value of the checksum data member.
</p>
<p></p>
<p><b>Returns</b>: the value of the checksum data member.
	 </p>
<A NAME="getSignature"></A><A NAME="ref4"></A><table width="100%"><tr bgcolor="#eeeeee"><td>unsigned char* &nbsp;<strong>getSignature</strong> ()
<br></td><td align="right"><h3><strong>getSignature</strong></h3></td></tr></table><p></p><p>
 Returns the value of the signature data member.
</p>
<p></p>
<p><b>Returns</b>: the value of the signature data member.
	 </p>
<A NAME="getNrOfBlocks"></A><A NAME="ref5"></A><table width="100%"><tr bgcolor="#eeeeee"><td>unsigned long &nbsp;<strong>getNrOfBlocks</strong> ()
<br></td><td align="right"><h3><strong>getNrOfBlocks</strong></h3></td></tr></table><p></p><p>
 Returns the value of the nrOfBlocks data member.
</p>
<p></p>
<p><b>Returns</b>: the value of the nrOfBlocks data member.
	 </p>
<A NAME="getBlockDimension"></A><A NAME="ref6"></A><table width="100%"><tr bgcolor="#eeeeee"><td>unsigned long &nbsp;<strong>getBlockDimension</strong> ()
<br></td><td align="right"><h3><strong>getBlockDimension</strong></h3></td></tr></table><p></p><p>
 Returns the value of the blockDimension data member.
</p>
<p></p>
<p><b>Returns</b>: the value of the blockDimension data member.
	 </p>
<A NAME="getFirstInodeBlock"></A><A NAME="ref7"></A><table width="100%"><tr bgcolor="#eeeeee"><td>unsigned long &nbsp;<strong>getFirstInodeBlock</strong> ()
<br></td><td align="right"><h3><strong>getFirstInodeBlock</strong></h3></td></tr></table><p></p><p>
 Returns the value of the firstInodBlock data member.
</p>
<p></p>
<p><b>Returns</b>: the value of the firstInodBlock data member.
	 </p>
<A NAME="getLastInodeBlock"></A><A NAME="ref8"></A><table width="100%"><tr bgcolor="#eeeeee"><td>unsigned long &nbsp;<strong>getLastInodeBlock</strong> ()
<br></td><td align="right"><h3><strong>getLastInodeBlock</strong></h3></td></tr></table><p></p><p>
 Returns the value of the lastInodeBlock data member.
</p>
<p></p>
<p><b>Returns</b>: the value of the lastInodeBlock data member.
	 </p>
<A NAME="getRootDirInode"></A><A NAME="ref9"></A><table width="100%"><tr bgcolor="#eeeeee"><td>unsigned long &nbsp;<strong>getRootDirInode</strong> ()
<br></td><td align="right"><h3><strong>getRootDirInode</strong></h3></td></tr></table><p></p><p>
 Returns the value of the rootDirInode data member.
</p>
<p></p>
<p><b>Returns</b>: the value of the rootDirInode data member.
	 </p>
<A NAME="getFreeBlocksInode"></A><A NAME="ref10"></A><table width="100%"><tr bgcolor="#eeeeee"><td>unsigned long &nbsp;<strong>getFreeBlocksInode</strong> ()
<br></td><td align="right"><h3><strong>getFreeBlocksInode</strong></h3></td></tr></table><p></p><p>
 Returns the value of the freeBlocksInode data member.
</p>
<p></p>
<p><b>Returns</b>: the value of the freeBlocksInode data member.
	 </p>
<A NAME="setChecksum"></A><A NAME="ref11"></A><table width="100%"><tr bgcolor="#eeeeee"><td>void &nbsp;<strong>setChecksum</strong> (const unsigned char* checksum)
<br></td><td align="right"><h3><strong>setChecksum</strong></h3></td></tr></table><p></p><p>
 Sets the checksum data member to <code>checksum</code>.
</p>
<p></p>
<p><b>Parameters</b>:<TABLE BORDER="0" CELLPADDING="5">
<TR><TD align="left" valign="top"><i>checksum</i></TD><TD align="left" valign="top">the new value of the checksum data member.
	 </TD></TR>
</TABLE></P>
<A NAME="setSignature"></A><A NAME="ref12"></A><table width="100%"><tr bgcolor="#eeeeee"><td>void &nbsp;<strong>setSignature</strong> (const unsigned char* signature)
<br></td><td align="right"><h3><strong>setSignature</strong></h3></td></tr></table><p></p><p>
 Sets the signature data member to <code>signature</code>.
</p>
<p></p>
<p><b>Parameters</b>:<TABLE BORDER="0" CELLPADDING="5">
<TR><TD align="left" valign="top"><i>signature</i></TD><TD align="left" valign="top">the new value of the signature data member.
	 </TD></TR>
</TABLE></P>
<A NAME="setNrOfBlocks"></A><A NAME="ref13"></A><table width="100%"><tr bgcolor="#eeeeee"><td>void &nbsp;<strong>setNrOfBlocks</strong> (unsigned long nrOfBlocks)
<br></td><td align="right"><h3><strong>setNrOfBlocks</strong></h3></td></tr></table><p></p><p>
 Sets the nrOfBlocks data member to <code>nrOfBlocks</code>.
</p>
<p></p>
<p><b>Parameters</b>:<TABLE BORDER="0" CELLPADDING="5">
<TR><TD align="left" valign="top"><i>nrOfBlocks</i></TD><TD align="left" valign="top">the new value of the nrOfBlocks data member.
	 </TD></TR>
</TABLE></P>
<A NAME="setBlockDimension"></A><A NAME="ref14"></A><table width="100%"><tr bgcolor="#eeeeee"><td>void &nbsp;<strong>setBlockDimension</strong> (unsigned long blockDimension)
<br></td><td align="right"><h3><strong>setBlockDimension</strong></h3></td></tr></table><p></p><p>
 Sets the blockDimension data member to <code>blockDimension</code>.
</p>
<p></p>
<p><b>Parameters</b>:<TABLE BORDER="0" CELLPADDING="5">
<TR><TD align="left" valign="top"><i>blockDimension</i></TD><TD align="left" valign="top">the new value of the blockDimension data member.
	 </TD></TR>
</TABLE></P>
<A NAME="setFirstInodeBlock"></A><A NAME="ref15"></A><table width="100%"><tr bgcolor="#eeeeee"><td>void &nbsp;<strong>setFirstInodeBlock</strong> (unsigned long firstInodeBlock)
<br></td><td align="right"><h3><strong>setFirstInodeBlock</strong></h3></td></tr></table><p></p><p>
 Sets the firstInodeBlock data member to <code>firstInodeBlock</code>.
</p>
<p></p>
<p><b>Parameters</b>:<TABLE BORDER="0" CELLPADDING="5">
<TR><TD align="left" valign="top"><i>firstInodeBlock</i></TD><TD align="left" valign="top">the new value of the firstInodeBlock data member.
	 </TD></TR>
</TABLE></P>
<A NAME="setLastInodeBlock"></A><A NAME="ref16"></A><table width="100%"><tr bgcolor="#eeeeee"><td>void &nbsp;<strong>setLastInodeBlock</strong> (unsigned long lastInodeBlock)
<br></td><td align="right"><h3><strong>setLastInodeBlock</strong></h3></td></tr></table><p></p><p>
 Sets the lastInodeBlock data member to <code>lastInodeBlock</code>.
</p>
<p></p>
<p><b>Parameters</b>:<TABLE BORDER="0" CELLPADDING="5">
<TR><TD align="left" valign="top"><i>lastInodeBlock</i></TD><TD align="left" valign="top">the new value of the lastInodeBlock data member.
	 </TD></TR>
</TABLE></P>
<A NAME="setRootDirInode"></A><A NAME="ref17"></A><table width="100%"><tr bgcolor="#eeeeee"><td>void &nbsp;<strong>setRootDirInode</strong> (unsigned long rootDirInode)
<br></td><td align="right"><h3><strong>setRootDirInode</strong></h3></td></tr></table><p></p><p>
 Sets the rootDirInode data member to <code>rootDirInode</code>.
</p>
<p></p>
<p><b>Parameters</b>:<TABLE BORDER="0" CELLPADDING="5">
<TR><TD align="left" valign="top"><i>rootDirInode</i></TD><TD align="left" valign="top">the new value of the rootDirInode data member.
	 </TD></TR>
</TABLE></P>
<A NAME="setFreeBlocksInode"></A><A NAME="ref18"></A><table width="100%"><tr bgcolor="#eeeeee"><td>void &nbsp;<strong>setFreeBlocksInode</strong> (unsigned long freeBlocksInode)
<br></td><td align="right"><h3><strong>setFreeBlocksInode</strong></h3></td></tr></table><p></p><p>
 Sets the freeBlocksInode data member to <code>freeBlocksInode</code>.
</p>
<p></p>
<p><b>Parameters</b>:<TABLE BORDER="0" CELLPADDING="5">
<TR><TD align="left" valign="top"><i>freeBlocksInode</i></TD><TD align="left" valign="top">the new value of the freeBlocksInode data member.
	 </TD></TR>
</TABLE></P>
<A NAME="readFromHardDisk"></A><A NAME="ref19"></A><table width="100%"><tr bgcolor="#eeeeee"><td>void &nbsp;<strong>readFromHardDisk</strong> (<A HREF="HDD.html">HDD</A>* hdd)
<br>throw(<A HREF="HardDiskNotInitializedException.html">HardDiskNotInitializedException</A>*, <A HREF="IOException.html">IOException</A>*)</td><td align="right"><h3><strong>readFromHardDisk</strong></h3></td></tr></table><p></p><p>
 This method reads the superblock (block nr. 0) from the
 <code>hdd</code> hard disk and initializes all of the class'
 data members according to the superblock configuration scheme
 presented above.
</p>
<p> The method throws:
 <ul>
 <li> HardDiskNotInitializedException* forwarded from <code>hdd</code>.</li>
 <li> IOException* forwarded from <code>hdd</code>.</li>
 </ul>
</p>
<p></p>
<p><b>Parameters</b>:<TABLE BORDER="0" CELLPADDING="5">
<TR><TD align="left" valign="top"><i>hdd</i></TD><TD align="left" valign="top">the hard disk whose superblock to read.
	 </TD></TR>
</TABLE></P>
<A NAME="writeToHardDisk"></A><A NAME="ref20"></A><table width="100%"><tr bgcolor="#eeeeee"><td>void &nbsp;<strong>writeToHardDisk</strong> (<A HREF="HDD.html">HDD</A>* hdd)
<br>throw(<A HREF="HardDiskNotInitializedException.html">HardDiskNotInitializedException</A>*, <A HREF="IOException.html">IOException</A>*)</td><td align="right"><h3><strong>writeToHardDisk</strong></h3></td></tr></table><p></p><p>
 This method writes the superblock (block nr. 0) of the
 <code>hdd</code> hard disk with its data member values
 according to the superblock configuration scheme presented
 above.
</p>
<p> If any of the array data members is NULL, zero (0) characters will
 be written for the entire length of the array.
</p>
<p> The method throws:
 <ul>
 <li> HardDiskNotInitializedException* forwarded from <code>hdd</code>.</li>
 <li> IOException* forwarded from <code>hdd</code>.</li>
 </ul>
</p>
<p></p>
<p><b>Parameters</b>:<TABLE BORDER="0" CELLPADDING="5">
<TR><TD align="left" valign="top"><i>hdd</i></TD><TD align="left" valign="top">the hard disk whose superblock to write.
	 </TD></TR>
</TABLE></P>
<A NAME="getAsBytes"></A><A NAME="ref21"></A><table width="100%"><tr bgcolor="#eeeeee"><td>unsigned char* &nbsp;<strong>getAsBytes</strong> ()
<br></td><td align="right"><h3><strong>getAsBytes</strong></h3></td></tr></table><p></p><p>
 This method returns the superblock in the exact same manner as it is
 stored on the hard disk (as an array of include/defs.h::BLOCK_DIM
 unsigned chars).
</p>
<p> If any of the array data members is NULL, zero (0) characters will
 be written for the entire length of the array.
</p>
<p></p>
<p><b>Returns</b>: the superblock as it is stored on the hard disk.
	 </p>
<A NAME="checksum"></A><A NAME="ref22"></A><table width="100%"><tr bgcolor="#eeeeee"><td>unsigned char*  <strong>checksum</strong>
</td><td align="right"><h3><strong>checksum</strong></h3></td></tr></table><p> <small>[private]</small></p><A NAME="signature"></A><A NAME="ref23"></A><table width="100%"><tr bgcolor="#eeeeee"><td>unsigned char*  <strong>signature</strong>
</td><td align="right"><h3><strong>signature</strong></h3></td></tr></table><p> <small>[private]</small></p><A NAME="nrBlocks"></A><A NAME="ref24"></A><table width="100%"><tr bgcolor="#eeeeee"><td>unsigned long  <strong>nrBlocks</strong>
</td><td align="right"><h3><strong>nrBlocks</strong></h3></td></tr></table><p> <small>[private]</small></p><A NAME="blockDim"></A><A NAME="ref25"></A><table width="100%"><tr bgcolor="#eeeeee"><td>unsigned long  <strong>blockDim</strong>
</td><td align="right"><h3><strong>blockDim</strong></h3></td></tr></table><p> <small>[private]</small></p><A NAME="inodeStart"></A><A NAME="ref26"></A><table width="100%"><tr bgcolor="#eeeeee"><td>unsigned long  <strong>inodeStart</strong>
</td><td align="right"><h3><strong>inodeStart</strong></h3></td></tr></table><p> <small>[private]</small></p><A NAME="inodeEnd"></A><A NAME="ref27"></A><table width="100%"><tr bgcolor="#eeeeee"><td>unsigned long  <strong>inodeEnd</strong>
</td><td align="right"><h3><strong>inodeEnd</strong></h3></td></tr></table><p> <small>[private]</small></p><A NAME="roodDir"></A><A NAME="ref28"></A><table width="100%"><tr bgcolor="#eeeeee"><td>unsigned long  <strong>roodDir</strong>
</td><td align="right"><h3><strong>roodDir</strong></h3></td></tr></table><p> <small>[private]</small></p><A NAME="freeBlocks"></A><A NAME="ref29"></A><table width="100%"><tr bgcolor="#eeeeee"><td>unsigned long  <strong>freeBlocks</strong>
</td><td align="right"><h3><strong>freeBlocks</strong></h3></td></tr></table><p> <small>[private]</small></p><A NAME="serialize"></A><A NAME="ref30"></A><table width="100%"><tr bgcolor="#eeeeee"><td>unsigned char* &nbsp;<strong>serialize</strong> ()
<br></td><td align="right"><h3><strong>serialize</strong></h3></td></tr></table><p> <small>[private]</small></p><p>
 This method returns a serialized representation of the superblock (as it's
 supposed to appear on the hard disk).
</p>
<p> If any of the array data members is NULL, zero (0) characters will
 be written for the entire length of the array.
</p>
<p></p>
<p><b>Returns</b>: a include/defs.h::BLOCK_DIM byte representation of the superblock.
	 </p>
<HR><UL><LI><i>Version</i>: 0.1
 </LI><LI><i>Author</i>: Bogdan DUMITRIU
</LI><LI><i>Generated</i>: bdumitriu on whitewizard on Tue Nov 12 22:08:44 2002, using kdoc 2.0a54.</LI></UL></BODY></HTML>
